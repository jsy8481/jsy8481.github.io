---
title: "04. DTOì™€ ê²€ì¦"
description: "DTO(Data Transfer Object)ëŠ” ë°ì´í„° ì „ì†¡ì„ ìœ„í•œ ê°ì²´ì…ë‹ˆë‹¤. API ìš”ì²­/ì‘ë‹µì˜ êµ¬ì¡°ë¥¼ ì •ì˜í•˜ê³ , ìœ íš¨ì„± ê²€ì‚¬ ê·œì¹™ì„ ëª…ì‹œí•©ë‹ˆë‹¤."
date: "2026-02-16"
---

## DTOë€?

### ê°œë… ì •ì˜

**DTO(Data Transfer Object)** ëŠ” ë°ì´í„° ì „ì†¡ì„ ìœ„í•œ ê°ì²´ì…ë‹ˆë‹¤. API ìš”ì²­/ì‘ë‹µì˜ êµ¬ì¡°ë¥¼ ì •ì˜í•˜ê³ , ìœ íš¨ì„± ê²€ì‚¬ ê·œì¹™ì„ ëª…ì‹œí•©ë‹ˆë‹¤.

> ğŸ’¡ **í•µì‹¬ í†µì°°**: DTOëŠ” APIì˜ "ê³„ì•½ì„œ"ì…ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ ì–´ë–¤ í˜•íƒœì˜ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ì„ì§€ ëª…í™•íˆ ì •ì˜í•©ë‹ˆë‹¤.

### ì™œ DTOê°€ í•„ìš”í•œê°€?

**ë¬¸ì œì : DTO ì—†ì´ ë°ì´í„° ì²˜ë¦¬**

```typescript
// âŒ ë¬¸ì œ: ì–´ë–¤ ë°ì´í„°ê°€ ë“¤ì–´ì˜¬ì§€ ëª¨ë¦„
@Post()
create(@Body() data: any) {  // any = íƒ€ì… ì•ˆì „ì„± ì—†ìŒ
  // data.emailì´ ìˆì„ê¹Œ? ë¬¸ìì—´ì¼ê¹Œ? ì´ë©”ì¼ í˜•ì‹ì¼ê¹Œ?
  // ì‹¤í–‰í•´ë´ì•¼ ì•Œ ìˆ˜ ìˆìŒ â†’ ëŸ°íƒ€ì„ ì—ëŸ¬ ìœ„í—˜!
}
```

**í•´ê²°ì±…: DTOë¡œ êµ¬ì¡° ì •ì˜**

```typescript
// âœ… í•´ê²°: ëª…í™•í•œ íƒ€ì… + ìë™ ê²€ì¦
class CreateUserDto {
  @IsEmail()
  email: string;

  @IsString()
  @Length(2, 50)
  name: string;
}

@Post()
create(@Body() dto: CreateUserDto) {
  // dtoëŠ” ì´ë¯¸ ê²€ì¦ë¨! ì•ˆì „í•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥
}
```

### ğŸ” ì½”ë“œ ë¶„ì„
| ì½”ë“œ | ì„¤ëª… |
|------|------|
| `@Post()` | POST ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” í•¸ë“¤ëŸ¬ì…ë‹ˆë‹¤. |
| `@Body()` | ìš”ì²­ ë³¸ë¬¸ì„ `CreateUserDto` íƒ€ì…ìœ¼ë¡œ ì¶”ì¶œí•©ë‹ˆë‹¤. |
| `class CreateUserDto` | ë°ì´í„° êµ¬ì¡°ì™€ ê²€ì¦ ê·œì¹™ì„ ì •ì˜í•œ DTO í´ë˜ìŠ¤ì…ë‹ˆë‹¤. |
| `@IsEmail()` | `email` í•„ë“œê°€ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹ˆë©´ ìë™ìœ¼ë¡œ 400 ì—ëŸ¬ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. |
| `@IsString()` | `name` í•„ë“œê°€ ë¬¸ìì—´ì´ ì•„ë‹ˆë©´ ì—ëŸ¬ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. |
| `@Length(2, 50)` | `name` í•„ë“œì˜ ê¸¸ì´ê°€ 2~50ìê°€ ì•„ë‹ˆë©´ ì—ëŸ¬ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. |


---

## class-validator ì„¤ì •

### ì„¤ì¹˜

```bash
npm install class-validator class-transformer
```

### ê¸€ë¡œë²Œ ValidationPipe ì„¤ì •

```typescript
// main.ts
import { ValidationPipe } from '@nestjs/common';

async function bootstrap() {
  const app = await NestFactory.create(AppModule);
  
  app.useGlobalPipes(new ValidationPipe({
    // í•µì‹¬ ì˜µì…˜ë“¤
    whitelist: true,           // DTOì— ì—†ëŠ” ì†ì„± ìë™ ì œê±°
    forbidNonWhitelisted: true, // DTOì— ì—†ëŠ” ì†ì„±ì´ ìˆìœ¼ë©´ ì—ëŸ¬
    transform: true,           // íƒ€ì… ìë™ ë³€í™˜
    
    // ì—ëŸ¬ ì‘ë‹µ ì»¤ìŠ¤í„°ë§ˆì´ì§•
    exceptionFactory: (errors) => {
      const messages = errors.map(err => ({
        field: err.property,
        constraints: Object.values(err.constraints || {}),
      }));
      return new BadRequestException({ 
        message: 'Validation failed', 
        errors: messages 
      });
    },
  }));
  
  await app.listen(3001);
}
```

### ğŸ” ì½”ë“œ ë¶„ì„
| ì½”ë“œ | ì„¤ëª… |
|------|------|
| `app.useGlobalPipes()` | ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ ë¼ìš°íŠ¸ì— ì ìš©ë  íŒŒì´í”„ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤. |
| `new ValidationPipe()` | NestJS ë‚´ì¥ ìœ íš¨ì„± ê²€ì‚¬ íŒŒì´í”„ì…ë‹ˆë‹¤. `class-validator` ë°ì½”ë ˆì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤. |
| `whitelist: true` | DTOì— ì •ì˜ë˜ì§€ ì•Šì€ ì†ì„±(Property)ì€ ìë™ìœ¼ë¡œ ì œê±°í•©ë‹ˆë‹¤. (ë³´ì•ˆ) |
| `forbidNonWhitelisted: true` | whitelist ì˜µì…˜ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ë©°, ì •ì˜ë˜ì§€ ì•Šì€ ì†ì„±ì´ ìˆìœ¼ë©´ ìš”ì²­ ìì²´ë¥¼ ê±°ë¶€(400 ì—ëŸ¬)í•©ë‹ˆë‹¤. |
| `transform: true` | ìš”ì²­ ë°ì´í„°ë¥¼ DTO í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ ìë™ ë³€í™˜í•©ë‹ˆë‹¤. (primitive íƒ€ì… ë³€í™˜ í¬í•¨) |
| `exceptionFactory` | ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨ ì‹œ ë°œìƒí•  ì—ëŸ¬ ì‘ë‹µ í˜•ì‹ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•©ë‹ˆë‹¤. |


> ğŸ“˜ **Deep Dive**: [Validation](../../../reference/nestjs/TECHNIQUES/Validation.md) ë¬¸ì„œì—ì„œ ë” ë§ì€ ì˜µì…˜ì„ í™•ì¸í•˜ì„¸ìš”.

---

---

## ê²€ì¦ ë°ì½”ë ˆì´í„°

### ê¸°ë³¸ íƒ€ì… ê²€ì¦

```typescript
import { 
  IsString, 
  IsNumber, 
  IsBoolean, 
  IsArray,
  IsDate,
} from 'class-validator';

class ExampleDto {
  @IsString()
  name: string;          // ë¬¸ìì—´ë§Œ í—ˆìš©

  @IsNumber()
  count: number;         // ìˆ«ìë§Œ í—ˆìš©

  @IsBoolean()
  active: boolean;       // true/falseë§Œ í—ˆìš©

  @IsArray()
  tags: string[];        // ë°°ì—´ë§Œ í—ˆìš©

  @IsDate()
  @Type(() => Date)      // ë¬¸ìì—´ â†’ Date ë³€í™˜ í•„ìš”
  createdAt: Date;
}
```

### ë¬¸ìì—´ ê²€ì¦

```typescript
import { 
  IsEmail, 
  IsUrl, 
  IsUUID, 
  Length, 
  MinLength, 
  MaxLength,
  Matches,
  IsIn,
} from 'class-validator';

class UserDto {
  @IsEmail({}, { message: 'ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤' })
  email: string;

  @IsString()
  @Length(2, 50, { message: 'ì´ë¦„ì€ 2~50ìì—¬ì•¼ í•©ë‹ˆë‹¤' })
  name: string;

  @IsString()
  @MinLength(8, { message: 'ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤' })
  @Matches(/(?=.*[A-Z])(?=.*[0-9])/, {
    message: 'ë¹„ë°€ë²ˆí˜¸ëŠ” ëŒ€ë¬¸ìì™€ ìˆ«ìë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤',
  })
  password: string;

  @IsUrl()
  website: string;

  @IsIn(['user', 'admin', 'moderator'])
  role: string;

  @IsUUID()
  referrerId: string;
}
```

### ìˆ«ì ê²€ì¦

```typescript
import { 
  IsPositive, 
  IsNegative, 
  Min, 
  Max, 
  IsInt,
  IsDecimal,
} from 'class-validator';

class StockFilterDto {
  @IsNumber()
  @Min(0, { message: 'ê°€ê²©ì€ 0 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤' })
  @Max(1000000, { message: 'ê°€ê²©ì´ ë„ˆë¬´ í½ë‹ˆë‹¤' })
  minPrice: number;

  @IsInt()
  @IsPositive()
  page: number;

  @IsDecimal({ decimal_digits: '2' })
  changePercent: string;  // "12.34" í˜•íƒœ
}
```

### ì„ íƒì  í•„ë“œì™€ ê¸°ë³¸ê°’

```typescript
import { IsOptional, IsNotEmpty, ValidateIf } from 'class-validator';

class SearchDto {
  @IsOptional()  // ì—†ì–´ë„ ë¨
  @IsString()
  keyword?: string;

  @IsOptional()
  @IsNumber()
  @Transform(({ value }) => value ?? 1)  // ê¸°ë³¸ê°’ ì„¤ì •
  page?: number;

  // ì¡°ê±´ë¶€ ê²€ì¦: keywordê°€ ìˆì„ ë•Œë§Œ ê²€ì¦
  @ValidateIf(o => o.keyword !== undefined)
  @IsNotEmpty()
  category: string;
}
```

---

## ìœ ìš©í•œ ë‚´ì¥ íŒŒì´í”„ (Built-in Pipes)

ë°ì´í„° ê²€ì¦ê³¼ ë³€í™˜ì„ ìœ„í•´ NestJSëŠ” ë‹¤ì–‘í•œ íŒŒì´í”„ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### Parse* íŒŒì´í”„ (í˜•ë³€í™˜ ë° ê²€ì¦)

| íŒŒì´í”„ | ì—­í•  | ì˜ˆì‹œ |
|--------|------|------|
| `ParseIntPipe` | ë¬¸ìì—´ â†’ ì •ìˆ˜ ë³€í™˜ | `@Param('id', ParseIntPipe) id: number` |
| `ParseBoolPipe` | ë¬¸ìì—´ â†’ ë¶ˆë¦° ë³€í™˜ | `@Query('isPublic', ParseBoolPipe) isPublic: boolean` |
| `ParseArrayPipe` | ë¬¸ìì—´ â†’ ë°°ì—´ ë³€í™˜ | `@Query('ids', new ParseArrayPipe({ items: Number, separator: ',' })) ids: number[]` |
| `ParseUUIDPipe` | UUID í˜•ì‹ ê²€ì¦ | `@Param('id', ParseUUIDPipe) id: string` |
| `DefaultValuePipe` | ê°’ì´ ì—†ì„ ë•Œ ê¸°ë³¸ê°’ ì œê³µ | `@Query('page', new DefaultValuePipe(1), ParseIntPipe) page: number` |

```typescript
@Get(':id')
async findOne(
  @Param('id', ParseIntPipe) id: number,
  @Query('active', new DefaultValuePipe(true), ParseBoolPipe) active: boolean,
) {
  // idëŠ” ë°˜ë“œì‹œ ìˆ«ì, activeëŠ” ê¸°ë³¸ê°’ trueì¸ ë¶ˆë¦°
}
```

> ğŸ“˜ **Deep Dive**: [Pipes](../../../reference/nestjs/OVERVIEW/Pipes.md) ë¬¸ì„œ ì°¸ê³ .

---

## Mapped Types (DTO ë³€í™˜ ìœ í‹¸ë¦¬í‹°)

ê¸°ì¡´ DTOë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒˆë¡œìš´ DTOë¥¼ ìƒì„±í•˜ì—¬ ì½”ë“œ ì¤‘ë³µì„ ì¤„ì…ë‹ˆë‹¤.

> âš ï¸ **ì£¼ì˜**: `@nestjs/swagger`ë¥¼ ì‚¬ìš© ì¤‘ì´ë¼ë©´ ê±°ê¸°ì„œ `PartialType` ë“±ì„ ê°€ì ¸ì™€ì•¼ Swagger ë¬¸ì„œì— ë°˜ì˜ë©ë‹ˆë‹¤. (ì•„ë‹ˆë©´ `@nestjs/mapped-types`)

### 1. PartialType (ëª¨ë“  í•„ë“œ ì„ íƒì )

```typescript
// create-cat.dto.ts
export class CreateCatDto {
  @IsString()
  name: string;
  
  @IsInt()
  age: number;
}

// update-cat.dto.ts
import { PartialType } from '@nestjs/mapped-types'; // ë˜ëŠ” @nestjs/swagger

export class UpdateCatDto extends PartialType(CreateCatDto) {}
// name?: string, age?: number í˜•íƒœë¡œ ë³€í™˜ë¨
```

### 2. PickType & OmitType (í•„ë“œ ì„ íƒ/ì œì™¸)

```typescript
// ì´ë¦„ë§Œ ì„ íƒ
export class UpdateCatNameDto extends PickType(CreateCatDto, ['name'] as const) {}

// ë‚˜ì´ë§Œ ì œì™¸
export class CatProfileDto extends OmitType(CreateCatDto, ['age'] as const) {}
```

### 3. IntersectionType (DTO ê²°í•©)

```typescript
export class AdditionalInfo {
  @IsString()
  breed: string;
}

export class FullCatDto extends IntersectionType(CreateCatDto, AdditionalInfo) {}
// name, age, breed ëª¨ë‘ í¬í•¨
```

---

## Zod + NestJS í†µí•©

### drizzle-zodì—ì„œ ìƒì„±í•œ ìŠ¤í‚¤ë§ˆ í™œìš©

```typescript
// dto/stocks.dto.ts
import { createZodDto } from 'nestjs-zod';
import { insertStockSchema, selectStockSchema } from '@repo/schema';

// Zod ìŠ¤í‚¤ë§ˆ â†’ NestJS DTO í´ë˜ìŠ¤
export class CreateStockDto extends createZodDto(
  insertStockSchema.pick({
    symbol: true,
    name: true,
    exchange: true,
    sector: true,
  })
) {}

export class UpdateStockDto extends createZodDto(
  insertStockSchema
    .pick({
      name: true,
      sector: true,
      currentPrice: true,
    })
    .partial()  // ëª¨ë“  í•„ë“œ ì„ íƒì 
) {}

export class StockResponseDto extends createZodDto(
) {}
```

### ğŸ” ì½”ë“œ ë¶„ì„
| ì½”ë“œ | ì„¤ëª… |
|------|------|
| `createZodDto` | `nestjs-zod`ê°€ ì œê³µí•˜ëŠ” í•¨ìˆ˜ë¡œ, Zod ìŠ¤í‚¤ë§ˆë¥¼ NestJS DTO í´ë˜ìŠ¤ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. |
| `insertStockSchema` | `drizzle-zod`ë¥¼ í†µí•´ DB í…Œì´ë¸” ì •ì˜ì—ì„œ ìë™ ìƒì„±ëœ ì‚½ì…ìš© Zod ìŠ¤í‚¤ë§ˆì…ë‹ˆë‹¤. |
| `.pick({...})` | ì „ì²´ ìŠ¤í‚¤ë§ˆì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ì…ë ¥ë°›ì„ í•„ë“œë§Œ ì„ íƒí•©ë‹ˆë‹¤. |
| `.partial()` | ëª¨ë“  í•„ë“œë¥¼ ì„ íƒì (Optional)ìœ¼ë¡œ ë§Œë“­ë‹ˆë‹¤. (ìˆ˜ì •ìš© DTO) |


**ì¥ì :**
- Drizzle ìŠ¤í‚¤ë§ˆì—ì„œ ìë™ ìƒì„± â†’ ì¼ê´€ì„± ë³´ì¥
- Zodì˜ ê°•ë ¥í•œ ê²€ì¦ ê¸°ëŠ¥ í™œìš©
- TypeScript íƒ€ì… ìë™ ì¶”ë¡ 

### ZodValidationPipe ì„¤ì •

```typescript
// main.ts
import { ZodValidationPipe } from 'nestjs-zod';

app.useGlobalPipes(new ZodValidationPipe());
```

---

## ì¤‘ì²© ê°ì²´ì™€ ë°°ì—´ ê²€ì¦

### ì¤‘ì²© ê°ì²´

```typescript
import { ValidateNested, Type } from 'class-transformer';

class AddressDto {
  @IsString()
  street: string;

  @IsString()
  city: string;

  @IsString()
  @Length(5, 5)
  zipCode: string;
}

class UserDto {
  @IsString()
  name: string;

  @ValidateNested()           // ì¤‘ì²© ê°ì²´ ê²€ì¦ í™œì„±í™”
  @Type(() => AddressDto)     // ë³€í™˜ íƒ€ì… ì§€ì •
  address: AddressDto;
}

// ìš”ì²­ ì˜ˆì‹œ:
// { "name": "Kim", "address": { "street": "...", "city": "...", "zipCode": "12345" } }
```

### ë°°ì—´ ê²€ì¦

```typescript
import { IsArray, ArrayMinSize, ArrayMaxSize, ValidateNested, Type } from 'class-validator';

class OrderItemDto {
  @IsString()
  productId: string;

  @IsInt()
  @Min(1)
  quantity: number;
}

class CreateOrderDto {
  @IsArray()
  @ArrayMinSize(1, { message: 'ìµœì†Œ 1ê°œ ìƒí’ˆì´ í•„ìš”í•©ë‹ˆë‹¤' })
  @ArrayMaxSize(100, { message: 'í•œ ë²ˆì— 100ê°œê¹Œì§€ë§Œ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤' })
  @ValidateNested({ each: true })  // ë°°ì—´ì˜ ê° ìš”ì†Œ ê²€ì¦
  @Type(() => OrderItemDto)
  items: OrderItemDto[];
}
```

---

## ì‹¤ì „ ì˜ˆì œ: ì£¼ì‹ DTO

```typescript
// dto/create-stock.dto.ts
import { 
  IsString, 
  IsNotEmpty, 
  Length, 
  IsIn, 
  IsOptional,
  IsNumber,
  Min,
  Matches,
} from 'class-validator';
import { Transform } from 'class-transformer';

export class CreateStockDto {
  @IsString()
  @IsNotEmpty({ message: 'ì‹¬ë³¼ì€ í•„ìˆ˜ì…ë‹ˆë‹¤' })
  @Length(1, 10, { message: 'ì‹¬ë³¼ì€ 1~10ìì—¬ì•¼ í•©ë‹ˆë‹¤' })
  @Matches(/^[A-Z]+$/, { message: 'ì‹¬ë³¼ì€ ëŒ€ë¬¸ì ì˜ë¬¸ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤' })
  @Transform(({ value }) => value?.toUpperCase())  // ìë™ ëŒ€ë¬¸ì ë³€í™˜
  symbol: string;

  @IsString()
  @IsNotEmpty({ message: 'ì¢…ëª©ëª…ì€ í•„ìˆ˜ì…ë‹ˆë‹¤' })
  @Length(1, 100)
  name: string;

  @IsIn(['NASDAQ', 'NYSE', 'KRX', 'KOSDAQ'], {
    message: 'ì˜¬ë°”ë¥¸ ê±°ë˜ì†Œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”',
  })
  exchange: string;

  @IsOptional()
  @IsString()
  sector?: string;

  @IsOptional()
  @IsNumber({ maxDecimalPlaces: 4 })
  @Min(0)
  currentPrice?: number;
}

// dto/stock-query.dto.ts
export class StockQueryDto {
  @IsOptional()
  @IsIn(['NASDAQ', 'NYSE', 'KRX', 'KOSDAQ'])
  exchange?: string;

  @IsOptional()
  @IsString()
  sector?: string;

  @IsOptional()
  @IsInt()
  @Min(1)
  @Transform(({ value }) => parseInt(value) || 1)
  page?: number = 1;

  @IsOptional()
  @IsInt()
  @Min(1)
  @Max(100)
  @Transform(({ value }) => parseInt(value) || 20)
  limit?: number = 20;
}
```

### ğŸ” ì½”ë“œ ë¶„ì„
| ì½”ë“œ | ì„¤ëª… |
|------|------|
| `@IsNotEmpty({ message: ... })` | ê°’ì´ ë¹„ì–´ìˆìœ¼ë©´ ì•ˆ ë©ë‹ˆë‹¤. `message` ì˜µì…˜ìœ¼ë¡œ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•©ë‹ˆë‹¤. |
| `@Matches(/^[A-Z]+$/)` | ì •ê·œí‘œí˜„ì‹ì„ ì‚¬ìš©í•˜ì—¬ ëŒ€ë¬¸ì ì˜ë¬¸ë§Œ í—ˆìš©í•©ë‹ˆë‹¤. |
| `@Transform(...)` | `class-transformer` ë°ì½”ë ˆì´í„°ë¡œ, ê²€ì¦ ì „ì— ê°’ì„ ë³€í™˜í•©ë‹ˆë‹¤. ì—¬ê¸°ì„  ì†Œë¬¸ìë¥¼ ëŒ€ë¬¸ìë¡œ ìë™ ë³€í™˜í•©ë‹ˆë‹¤. |
| `@IsIn([...])` | ê°’ì´ ì£¼ì–´ì§„ ë°°ì—´ ë‚´ì˜ í•­ëª© ì¤‘ í•˜ë‚˜ì—¬ì•¼ í•©ë‹ˆë‹¤. (Enum ê²€ì¦ê³¼ ìœ ì‚¬) |
| `@Min(1)` | ìˆ«ìê°€ 1 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤. (í˜ì´ì§€ ë²ˆí˜¸ ë“±) |
| `@IsOptional()` | ê°’ì´ ì—†ì–´ë„ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ í†µê³¼í•©ë‹ˆë‹¤. (ê²€ìƒ‰ í•„í„° ë“±) |


---

---

## ğŸ’¡ ì‹¤ë¬´ íŒ

### 1. ì—ëŸ¬ ë©”ì‹œì§€ ì¼ê´€ì„±

```typescript
// ì»¤ìŠ¤í…€ ë©”ì‹œì§€ í…œí”Œë¦¿
const messages = {
  required: (field: string) => `${field}ì€(ëŠ”) í•„ìˆ˜ì…ë‹ˆë‹¤`,
  minLength: (field: string, min: number) => 
    `${field}ì€(ëŠ”) ${min}ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤`,
};

class UserDto {
  @IsNotEmpty({ message: messages.required('ì´ë©”ì¼') })
  @IsEmail()
  email: string;
}
```

### 2. DTO ì¬ì‚¬ìš©

```typescript
// ê¸°ë³¸ DTO
class CreateUserDto {
  @IsEmail()
  email: string;

  @IsString()
  name: string;
}

// ìƒì†ìœ¼ë¡œ í™•ì¥
class AdminCreateUserDto extends CreateUserDto {
  @IsIn(['user', 'admin', 'moderator'])
  role: string;
}

// PartialType í™œìš© (ì—…ë°ì´íŠ¸ìš©)
import { PartialType } from '@nestjs/mapped-types';

class UpdateUserDto extends PartialType(CreateUserDto) {}
// ëª¨ë“  í•„ë“œê°€ ì„ íƒì ìœ¼ë¡œ ë¨
```

### 3. ë³´ì•ˆì„ ìœ„í•œ Whitelist
`whitelist: true` ì˜µì…˜ì€ ë³´ì•ˆì˜ í•µì‹¬ì…ë‹ˆë‹¤.
í•´ì»¤ê°€ `admin: true` ê°™ì€ í•„ë“œë¥¼ ëª°ë˜ ë³´ë‚´ë„, DTOì— ì •ì˜ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ìë™ìœ¼ë¡œ ì‚­ì œë˜ì–´ ì•ˆì „í•©ë‹ˆë‹¤.
ë°˜ë“œì‹œ Global Pipe ì„¤ì •ì— í¬í•¨ì‹œí‚¤ì„¸ìš”.

---

## ë ˆí¼ëŸ°ìŠ¤

- [NestJS - Validation](https://docs.nestjs.com/techniques/validation)
- [class-validator](https://github.com/typestack/class-validator)
- [class-transformer](https://github.com/typestack/class-transformer)
- [nestjs-zod](https://github.com/BenLorantfy/nestjs-zod)

**ë‹¤ìŒ ì¥**: [05. Drizzle ì—°ë™](./05-database-drizzle.md)
