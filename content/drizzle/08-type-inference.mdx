---
title: "08. íƒ€ì… ì¶”ë¡  (Type Inference)"
description: "TypeScriptì˜ ê°•ë ¥í•œ íƒ€ì… ì¶”ë¡ ì„ í™œìš©í•˜ì—¬ í…Œì´ë¸” íƒ€ì…, JSON ì»¬ëŸ¼ íƒ€ì…, ê´€ê³„ ì¿¼ë¦¬ ê²°ê³¼ íƒ€ì…ê¹Œì§€ ì¶”ë¡ í•©ë‹ˆë‹¤."
date: "2026-02-16"
---

TypeScriptì˜ ê°•ë ¥í•¨ì„ 100% í™œìš©í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ë‹¨ìˆœíˆ í…Œì´ë¸” íƒ€ì…ë¿ë§Œ ì•„ë‹ˆë¼, **JSON ì»¬ëŸ¼ íƒ€ì…**ê³¼ **ê´€ê³„ê°€ í¬í•¨ëœ ì¿¼ë¦¬ ê²°ê³¼ íƒ€ì…**ê¹Œì§€ ì¶”ë¡ í•©ë‹ˆë‹¤.

---

## ğŸ§¬ 1. ê¸°ë³¸ ëª¨ë¸ íƒ€ì… (`InferSelectModel`, `InferInsertModel`)

ê°€ì¥ ê¸°ì´ˆì ì¸ í…Œì´ë¸” ë‹¨ìœ„ íƒ€ì…ì…ë‹ˆë‹¤.

```typescript
import { type InferSelectModel, type InferInsertModel } from 'drizzle-orm';
import { users } from './schema';

// 1. ì¡°íšŒìš© (DBì— ì €ì¥ëœ í˜•íƒœ) - ëª¨ë“  í•„ìˆ˜ ì»¬ëŸ¼ í¬í•¨
export type User = InferSelectModel<typeof users>;

// 2. ì…ë ¥ìš© (Insertì‹œ í˜•íƒœ) - id, defaultê°’ ë“±ì€ Optional
export type NewUser = InferInsertModel<typeof users>;
```

---

## ğŸª„ 2. JSON ì»¬ëŸ¼ íƒ€ì… ì§€ì • (`$type<T>`)

DBì—ëŠ” ê·¸ëƒ¥ JSONìœ¼ë¡œ ì €ì¥ë˜ì§€ë§Œ, ì½”ë“œì—ì„œëŠ” êµ¬ì²´ì ì¸ ì¸í„°í˜ì´ìŠ¤ë¡œ ì“°ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```typescript
// íƒ€ì… ì •ì˜
interface UserSettings {
  theme: 'dark' | 'light';
  notifications: boolean;
}

export const users = pgTable('users', {
  id: serial('id').primaryKey(),
  // â­ï¸ $type<T>()ì„ ë¶™ì´ë©´ TSê°€ ì´ ì»¬ëŸ¼ì„ Të¡œ ì¸ì‹í•¨
  settings: jsonb('settings').$type<UserSettings>().default({
    theme: 'light',
    notifications: true
  }),
});

// ê²°ê³¼:
// user.settings.theme  -> 'dark' | 'light' (ìë™ì™„ì„± ë¨!)
```

---

## ğŸŒ³ 3. ê´€ê³„ê°€ í¬í•¨ëœ ì¿¼ë¦¬ ê²°ê³¼ íƒ€ì…

`findMany`ë¡œ ì¡°ì¸ëœ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë©´ íƒ€ì…ì´ ë³µì¡í•´ì§‘ë‹ˆë‹¤. ì´ë¥¼ ìˆ˜ë™ìœ¼ë¡œ `User & { posts: Post[] }` ì´ë ‡ê²Œ ì ìœ¼ë©´ ë‚˜ì¤‘ì— ìœ ì§€ë³´ìˆ˜ ì§€ì˜¥ì´ ì—´ë¦½ë‹ˆë‹¤. Drizzleì—ê²Œ ë¬¼ì–´ë³´ì„¸ìš”.

### ë°©ë²• A: `typeof` ì‚¬ìš© (ê°€ì¥ ì¶”ì²œ)

```typescript
// 1. ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“­ë‹ˆë‹¤ (ì‹¤í–‰ ì•ˆ í•¨)
const usersQuery = db.query.users.findMany({
  with: {
    posts: {
      with: { comments: true }
    },
    profile: true,
  }
});

// 2. Awaited<...> ìœ í‹¸ë¦¬í‹° íƒ€ì…ìœ¼ë¡œ ê²°ê³¼ íƒ€ì…ì„ ì¶”ì¶œí•©ë‹ˆë‹¤.
// Promiseë¥¼ ë²—ê²¨ë‚´ê³  ì‹¤ì œ ë°ì´í„° íƒ€ì…ë§Œ ê°€ì ¸ì˜µë‹ˆë‹¤.
export type UsersWithPosts = Awaited<typeof usersQuery>;
```

### ë°©ë²• B: Drizzle Helper ì‚¬ìš© (`BuildQueryResult`)
ì¡°ê¸ˆ ë” ë³µì¡í•œ ì œë„¤ë¦­ ë°©ì‹ì´ì§€ë§Œ, ë¼ì´ë¸ŒëŸ¬ë¦¬ ì œì‘ìë¼ë©´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (Aë²ˆ ë°©ë²•ì„ ê¶Œì¥í•©ë‹ˆë‹¤)

---

## âœ‚ï¸ 4. íƒ€ì… ìª¼ê°œê¸° (Pick / Omit)

ì¶”ë¡ ëœ íƒ€ì…ì—ì„œ UIì— í•„ìš”í•œ ì¼ë¶€ë§Œ ë–¼ì–´ë‚¼ ë•Œ, TypeScript ë‚´ì¥ ìœ í‹¸ë¦¬í‹°ë¥¼ ì”ë‹ˆë‹¤.

```typescript
// íŒ¨ìŠ¤ì›Œë“œ ëº€ ìœ ì € ì •ë³´
type PublicUser = Omit<User, 'password'>;

// ìœ ì € ëª©ë¡ ì¹´ë“œì— ë³´ì—¬ì¤„ ì •ë³´ë§Œ
type UserCardProps = Pick<User, 'id' | 'name' | 'image'>;
```

---

## ğŸ”— ë ˆí¼ëŸ°ìŠ¤
- [Custom Types](https://orm.drizzle.team/docs/custom-types)
- [Type Inference](https://orm.drizzle.team/docs/goodies#type-inference)

**ë‹¤ìŒ ì¥**: [09. Supabase ì—°ë™ (Supabase Integration)](./09-supabase-integration.md)
